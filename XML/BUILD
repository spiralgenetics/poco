cc_library(
    name = "XML",
    srcs = glob([
        "src/*.h",
        "src/*.inc",
    ]) + [
        "src/AbstractContainerNode.cpp",
        "src/AbstractNode.cpp",
        "src/Attr.cpp",
        "src/AttrMap.cpp",
        "src/Attributes.cpp",
        "src/AttributesImpl.cpp",
        "src/CDATASection.cpp",
        "src/CharacterData.cpp",
        "src/ChildNodesList.cpp",
        "src/Comment.cpp",
        "src/ContentHandler.cpp",
        "src/DOMBuilder.cpp",
        "src/DOMException.cpp",
        "src/DOMImplementation.cpp",
        "src/DOMObject.cpp",
        "src/DOMParser.cpp",
        "src/DOMSerializer.cpp",
        "src/DOMWriter.cpp",
        "src/DTDHandler.cpp",
        "src/DTDMap.cpp",
        "src/DeclHandler.cpp",
        "src/DefaultHandler.cpp",
        "src/Document.cpp",
        "src/DocumentEvent.cpp",
        "src/DocumentFragment.cpp",
        "src/DocumentType.cpp",
        "src/Element.cpp",
        "src/ElementsByTagNameList.cpp",
        "src/Entity.cpp",
        "src/EntityReference.cpp",
        "src/EntityResolver.cpp",
        "src/EntityResolverImpl.cpp",
        "src/ErrorHandler.cpp",
        "src/Event.cpp",
        "src/EventDispatcher.cpp",
        "src/EventException.cpp",
        "src/EventListener.cpp",
        "src/EventTarget.cpp",
        "src/InputSource.cpp",
        "src/LexicalHandler.cpp",
        "src/Locator.cpp",
        "src/LocatorImpl.cpp",
        "src/MutationEvent.cpp",
        "src/Name.cpp",
        "src/NamePool.cpp",
        "src/NamedNodeMap.cpp",
        "src/NamespaceStrategy.cpp",
        "src/NamespaceSupport.cpp",
        "src/Node.cpp",
        "src/NodeFilter.cpp",
        "src/NodeIterator.cpp",
        "src/NodeList.cpp",
        "src/Notation.cpp",
        "src/ParserEngine.cpp",
        "src/ProcessingInstruction.cpp",
        "src/SAXException.cpp",
        "src/SAXParser.cpp",
        "src/Text.cpp",
        "src/TreeWalker.cpp",
        "src/WhitespaceFilter.cpp",
        "src/XMLException.cpp",
        "src/XMLFilter.cpp",
        "src/XMLFilterImpl.cpp",
        "src/XMLReader.cpp",
        "src/XMLString.cpp",
        "src/XMLWriter.cpp",
        "src/NodeAppender.cpp",
        "src/xmlparse.cpp",
        "src/xmlrole.c",
        "src/xmltok.c",
    ],
    hdrs = glob(["include/**/*.h"]),
    copts = [
        "-Wno-sign-compare",
        "-Wno-unknown-pragmas",
        "-D_XOPEN_SOURCE=500",
        "-D_REENTRANT",
        "-D_THREAD_SAFE",
        "-D_FILE_OFFSET_BITS=64",
        "-D_LARGEFILE64_SOURCE",
        "-DPOCO_HAVE_FD_EPOLL",
        "-DXML_NS",
        "-DXML_DTD",
        "-DHAVE_EXPAT_CONFIG_H",
    ],
    includes = ["include"],
    visibility = ["//visibility:public"],
    deps = ["//Foundation"],
)
