cc_library(
    name = "Util",
    srcs = glob([
        "src/*.h",
        "src/*.inc",
    ]) + [
        "src/AbstractConfiguration.cpp",
        "src/Application.cpp",
        "src/ConfigurationMapper.cpp",
        "src/ConfigurationView.cpp",
        "src/HelpFormatter.cpp",
        "src/IniFileConfiguration.cpp",
        "src/LayeredConfiguration.cpp",
        "src/LoggingConfigurator.cpp",
        "src/LoggingSubsystem.cpp",
        "src/MapConfiguration.cpp",
        "src/Option.cpp",
        "src/OptionException.cpp",
        "src/OptionProcessor.cpp",
        "src/OptionSet.cpp",
        "src/PropertyFileConfiguration.cpp",
        "src/Subsystem.cpp",
        "src/SystemConfiguration.cpp",
        "src/FilesystemConfiguration.cpp",
        "src/ServerApplication.cpp",
        "src/Validator.cpp",
        "src/IntValidator.cpp",
        "src/RegExpValidator.cpp",
        "src/OptionCallback.cpp",
        "src/Timer.cpp",
        "src/TimerTask.cpp",
        "src/XMLConfiguration.cpp",
        "src/JSONConfiguration.cpp",
    ],
    hdrs = glob(["include/**/*.h"]),
    copts = [
        "-Wno-sign-compare",
        "-Wno-unknown-pragmas",
        "-D_XOPEN_SOURCE=500",
        "-D_REENTRANT",
        "-D_THREAD_SAFE",
        "-D_FILE_OFFSET_BITS=64",
        "-D_LARGEFILE64_SOURCE",
        "-DPOCO_HAVE_FD_EPOLL",
    ],
    includes = ["include"],
    visibility = ["//visibility:public"],
    deps = [
        "//Foundation",
        "//JSON",
        "//XML",
    ],
)
