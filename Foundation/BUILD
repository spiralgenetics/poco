cc_library(
    name = "Foundation",
    srcs = glob([
        "src/*.h",
        "src/*.inc",
    ]) + [
        "src/ArchiveStrategy.cpp",
        "src/Ascii.cpp",
        "src/ASCIIEncoding.cpp",
        "src/AsyncChannel.cpp",
        "src/Base32Decoder.cpp",
        "src/Base32Encoder.cpp",
        "src/Base64Decoder.cpp",
        "src/Base64Encoder.cpp",
        "src/BinaryReader.cpp",
        "src/BinaryWriter.cpp",
        "src/Bugcheck.cpp",
        "src/ByteOrder.cpp",
        "src/Channel.cpp",
        "src/Checksum.cpp",
        "src/Clock.cpp",
        "src/Configurable.cpp",
        "src/ConsoleChannel.cpp",
        "src/Condition.cpp",
        "src/CountingStream.cpp",
        "src/DateTime.cpp",
        "src/LocalDateTime.cpp",
        "src/DateTimeFormat.cpp",
        "src/DateTimeFormatter.cpp",
        "src/DateTimeParser.cpp",
        "src/Debugger.cpp",
        "src/DeflatingStream.cpp",
        "src/DigestEngine.cpp",
        "src/DigestStream.cpp",
        "src/DirectoryIterator.cpp",
        "src/DirectoryWatcher.cpp",
        "src/Environment.cpp",
        "src/Event.cpp",
        "src/Error.cpp",
        "src/EventArgs.cpp",
        "src/ErrorHandler.cpp",
        "src/Exception.cpp",
        "src/FIFOBufferStream.cpp",
        "src/FPEnvironment.cpp",
        "src/File.cpp",
        "src/FileChannel.cpp",
        "src/Formatter.cpp",
        "src/FormattingChannel.cpp",
        "src/Glob.cpp",
        "src/HexBinaryDecoder.cpp",
        "src/LineEndingConverter.cpp",
        "src/HexBinaryEncoder.cpp",
        "src/InflatingStream.cpp",
        "src/Latin1Encoding.cpp",
        "src/Latin2Encoding.cpp",
        "src/Latin9Encoding.cpp",
        "src/LogFile.cpp",
        "src/Logger.cpp",
        "src/LoggingFactory.cpp",
        "src/LoggingRegistry.cpp",
        "src/LogStream.cpp",
        "src/NamedEvent.cpp",
        "src/NamedMutex.cpp",
        "src/NullChannel.cpp",
        "src/MemoryPool.cpp",
        "src/MD4Engine.cpp",
        "src/MD5Engine.cpp",
        "src/Manifest.cpp",
        "src/Message.cpp",
        "src/Mutex.cpp",
        "src/NestedDiagnosticContext.cpp",
        "src/Notification.cpp",
        "src/NotificationCenter.cpp",
        "src/NotificationQueue.cpp",
        "src/PriorityNotificationQueue.cpp",
        "src/TimedNotificationQueue.cpp",
        "src/NullStream.cpp",
        "src/NumberFormatter.cpp",
        "src/NumberParser.cpp",
        "src/NumericString.cpp",
        "src/AbstractObserver.cpp",
        "src/Path.cpp",
        "src/PatternFormatter.cpp",
        "src/Process.cpp",
        "src/PurgeStrategy.cpp",
        "src/RWLock.cpp",
        "src/Random.cpp",
        "src/RandomStream.cpp",
        "src/DirectoryIteratorStrategy.cpp",
        "src/RegularExpression.cpp",
        "src/RefCountedObject.cpp",
        "src/Runnable.cpp",
        "src/RotateStrategy.cpp",
        "src/SHA1Engine.cpp",
        "src/Semaphore.cpp",
        "src/SharedLibrary.cpp",
        "src/SimpleFileChannel.cpp",
        "src/SignalHandler.cpp",
        "src/SplitterChannel.cpp",
        "src/SortedDirectoryIterator.cpp",
        "src/Stopwatch.cpp",
        "src/StreamChannel.cpp",
        "src/StreamConverter.cpp",
        "src/StreamCopier.cpp",
        "src/StreamTokenizer.cpp",
        "src/String.cpp",
        "src/StringTokenizer.cpp",
        "src/SynchronizedObject.cpp",
        "src/Task.cpp",
        "src/TaskManager.cpp",
        "src/TaskNotification.cpp",
        "src/TeeStream.cpp",
        "src/Hash.cpp",
        "src/HashStatistic.cpp",
        "src/TemporaryFile.cpp",
        "src/TextConverter.cpp",
        "src/TextEncoding.cpp",
        "src/TextIterator.cpp",
        "src/TextBufferIterator.cpp",
        "src/Thread.cpp",
        "src/ThreadLocal.cpp",
        "src/ThreadPool.cpp",
        "src/ThreadTarget.cpp",
        "src/ActiveDispatcher.cpp",
        "src/Timer.cpp",
        "src/Timespan.cpp",
        "src/Timestamp.cpp",
        "src/Timezone.cpp",
        "src/Token.cpp",
        "src/URI.cpp",
        "src/FileStreamFactory.cpp",
        "src/URIStreamFactory.cpp",
        "src/URIStreamOpener.cpp",
        "src/UTF32Encoding.cpp",
        "src/UTF16Encoding.cpp",
        "src/UTF8Encoding.cpp",
        "src/UTF8String.cpp",
        "src/Unicode.cpp",
        "src/UnicodeConverter.cpp",
        "src/Windows1250Encoding.cpp",
        "src/Windows1251Encoding.cpp",
        "src/Windows1252Encoding.cpp",
        "src/UUID.cpp",
        "src/UUIDGenerator.cpp",
        "src/Void.cpp",
        "src/Var.cpp",
        "src/VarHolder.cpp",
        "src/VarIterator.cpp",
        "src/Format.cpp",
        "src/Pipe.cpp",
        "src/PipeImpl.cpp",
        "src/PipeStream.cpp",
        "src/SharedMemory.cpp",
        "src/MemoryStream.cpp",
        "src/FileStream.cpp",
        "src/AtomicCounter.cpp",
        "src/adler32.c",
        "src/compress.c",
        "src/crc32.c",
        "src/deflate.c",
        "src/infback.c",
        "src/inffast.c",
        "src/inflate.c",
        "src/inftrees.c",
        "src/trees.c",
        "src/zutil.c",
        "src/pcre_config.c",
        "src/pcre_chartables.c",
        "src/pcre_compile.c",
        "src/pcre_globals.c",
        "src/pcre_maketables.c",
        "src/pcre_study.c",
        "src/pcre_byte_order.c",
        "src/pcre_valid_utf8.c",
        "src/pcre_dfa_exec.c",
        "src/pcre_get.c",
        "src/pcre_jit_compile.c",
        "src/pcre_exec.c",
        "src/pcre_ord2utf8.c",
        "src/pcre_newline.c",
        "src/pcre_fullinfo.c",
        "src/pcre_xclass.c",
        "src/pcre_refcount.c",
        "src/pcre_string_utils.c",
        "src/pcre_version.c",
        "src/pcre_ucd.c",
        "src/pcre_tables.c",
        "src/SyslogChannel.cpp",
    ],
    hdrs = glob(["include/**/*.h"]),
    copts = [
        "-Wno-unused-function",
        "-Wno-deprecated-declarations",
        "-Wno-strict-overflow",
        "-Wno-sign-compare",
        "-Wno-unknown-pragmas",
        "-Wno-unused-variable",
        "-D_XOPEN_SOURCE=500",
        "-D_REENTRANT",
        "-D_THREAD_SAFE",
        "-D_FILE_OFFSET_BITS=64",
        "-D_LARGEFILE64_SOURCE",
        "-DPOCO_HAVE_FD_EPOLL",
    ],
    includes = ["include"],
    linkopts = ["-lrt"],
    visibility = ["//visibility:public"],
)
